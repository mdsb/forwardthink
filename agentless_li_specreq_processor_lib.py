from llama_index.core.query_pipeline import (
    QueryPipeline as QP,
    Link,
    InputComponent,
)

from llama_index.experimental.query_engine.pandas import (
    PandasInstructionParser,
)
from llama_index.llms.bedrock import Bedrock
from llama_index.core.prompts import PromptTemplate

from llama_index.core.memory import ChatMemoryBuffer
from llama_index.core import VectorStoreIndex, SimpleDirectoryReader
import pandas as pd
import json
import boto3


def load_json_data(file):
  data = file.read()
  return json.loads(data)
  
def process_uploaded_file(uploaded_data_file: str, input_text: str):
    
    # Parse the JSON data and store as messages
    uploaded_messages = load_json_data(uploaded_data_file)
    
    system_prompt = '''
                        You are an experienced data analyst familiar with  this JSON.\n
                        The following text was parsed from a issue tracker system.\n
                        Extract the following information from the request_details and competitor :\n
                        - summary of requests: A summary of the request details across the competitor.\n
                        - average number of days to complete: Use the fields \n
                        Don't waste words. Use short, clear, complete sentences. Use active voice. Maximize detail, meaning focus on the content. Quote code snippets if they are relevant.\n
                        Answer in markdown with section headers separating each of the parts above.\n
                    '''
    
    # print(type(uploaded_messages))
    # print(type(input_text))
    # contents  = input_text +" "+uploaded_messages
    
    json_string = '''
    [{"A":"competitor_involved_id","B":"create_date","C":"complete_date","D":"opportunity_id","E":"resolver","F":"requester","G":"competitor","H":"case_status","I":"opportunity_biz_unit","J":"territory_geo","K":"opportunity_region","L":"compete_category","M":"cancellation_reason","N":"request_type","O":"completion_comment","P":"request_details","Q":"complexity","R":"opportunity_name","S":"opportunity_create_date","T":"opportunity_close_date","U":"opportunity_stage","V":"account_name","W":"terr_segment__c","X":"resolver_team","Y":"resolver_geo","Z":"complete_month_start","AA":"geo_modified","AB":"bdm_hours_spent","AC":"join_opportunity_stage","AD":"closure_opportunity_stage","AE":"total_opportunity_usd","AF":"opportunity_record_type","AG":"current_opportunity_stage","AH":"requester_name","AI":"requester_leader_name","AJ":"requester_geo","AK":"requester_job_category","AL":"_de_dup_rank","AM":"comment_date","AN":"comments","AO":"Domain Group","AP":"Community","AQ":"Domain ID","AR":"Request ID","AS":"Request Type","AT":"Requester Alias","AU":"Requester Job Role","AV":"Requester Job Title","AW":"Requester Department Name","AX":"Requester Org","AY":"Requester Supervisor Hierarchy","AZ":"Resolver Alias","BA":"Resolver Name","BB":"Resolver Department Name","BC":"Resolver Org","BD":"Resolver Supervisor Hierarchy","BE":"Previous Resolver Alias","BF":"Previous Resolver Count","BG":"TFC Role","BH":"Resolver Job Role","BI":"Resolver Line Manager","BJ":"Created Month - Year","BK":"Completed Month - Year","BL":"meetingstartdate","BM":"meetingenddate","BN":"acknowledged_month","BO":"acknowledged_year","BP":"SpecReq Status","BQ":"Primary Topic","BR":"Secondary Topic","BS":"Acknowledged SLA","BT":"Customer Country Code","BU":"Customer City","BV":"Customer Region","BW":"Territory Geography","BX":"Territory Region","BY":"Territory Segment","BZ":"Territory Sub Region","CA":"Account Industry","CB":"Account Region","CC":"Geography","CD":"Break Glass Reason","CE":"ReAssignment Reason","CF":"SpecReq Link","CG":"SA/TAM Request","CH":"Closed Won Date","CI":"Acknowledged","CJ":"Unacknowledged","CK":"Days Unacknowledged","CL":"Breakglass","CM":"Waiting","CN":"Cancelled","CO":"Completed","CP":"Working","CQ":"Hours To Completed","CR":"Hours To First Acknowledged","CS":"Weekday Hours To Completed","CT":"Weekday Hours To First Acknowledged","CU":"Work Hours To First Acknowledged","CV":"Work Hours To Completed","CW":"Complexity.1","CX":"Salesforce Opportunity ID","CY":"Salesforce Task ID","CZ":"Closed Won","DA":"SFDC Status","DB":"SFDC Won","DC":"SDFC In Process","DD":"SFDC Lost","DE":"Priority","DF":"Currency Code","DG":"Is Partner Account Involved?"},{"A":"5910d214-6d0e-451a-9e9f-910d6b15673e","B":"45160","C":"45169","D":"0064z00002CN2zdAAD","E":"wdfox","F":"kensze","G":"Microsoft Azure","H":"CANCELLED","I":"CS","J":"AMER","K":"US-GF","L":"compete","M":"noLongerNeeded","N":"competitivePositioningSa","O":"noLongerNeeded - Canceling this request. Put Ken (requester) in touch with the correct resource to help with his blog post. No further action needed at the moment.","P":"**1. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\n\nAzure Site Recovery (ASR)\n\n**2. What are the AWS technologies you are positioning? Please be specific (e.g., Control Tower, S3 Glacier Storage, EC2, EKS, etc.)**\n\nElastic Disaster Recovery (DRS)\n\n**3. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\n\nI am looking for help in writing/blog information on Azure Site Recovery (ASR). I understand that Elastic Disaster Recovery (DRS) is the equivalent service. There has been more and more request from customers asking about the differences between the service. \n\nI am a DRS Specialist, but require help in better understanding ASR to get a better idea on how we can improve DRS service as a whole (UI, performance, etc.).","Q":"300","R":"DRS Salesforce Opportunity","S":"45159","T":"45291","U":"Prospect","V":"Amazon Test - Duplicate","W":"SMB","X":"Azure","Y":"NAMER","Z":"45138.833333333336","AA":"AMER","AB":"","AC":"Prospect","AD":"Prospect","AE":"0","AF":"Utility","AG":"Prospect","AH":"Sze,Ken","AI":"Jones,Jon","AJ":"AMER","AK":"Solution Architect","AL":"1","AM":"","AN":"","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"5910d214-6d0e-451a-9e9f-910d6b15673e","AS":"competitivePositioningSa","AT":"kensze","AU":null,"AV":null,"AW":"AWS WWSO Cloud Foundations-VAR","AX":"Other","AY":"No Supervisor Hierarchy","AZ":"wdfox","BA":"Fox,Will David","BB":"AWS WWRO Cloud Intellig-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":"[kaiyer]","BF":"1","BG":"X-TFC Member","BH":"SA","BI":"Rodriguez,Jaime Placido","BJ":"45160","BK":"45169","BL":"45161","BM":"45198","BN":"8","BO":"2023","BP":"CANCELLED","BQ":"microsoftAzureCompete","BR":"[]","BS":"1","BT":"US","BU":"Boston","BV":"Massachusetts","BW":"AMER","BX":"US-GF","BY":"SMB","BZ":"GFD-NW-LG-CSC","CA":"Retail","CB":"US-GF","CC":"NAMER","CD":null,"CE":"skillMismatch","CF":"https://spec-req.sales.aws.a2z.com/request/5910d214-6d0e-451a-9e9f-910d6b15673e","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"1","CO":"0","CP":"0","CQ":"214","CR":"24","CS":"55","CT":"8","CU":"16","CV":"64","CW":"300","CX":"0064z00002CN2zdAAD","CY":"00T4z000093iqllEAA","CZ":"0","DA":"Prospect","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"056f482f-f2f0-411c-9336-1a51559926b8","B":"45162","C":"45183","D":"0064z000026qy3AAAQ","E":"dantsuch","F":"ndwagne","G":"Google Cloud Platform (GCP)","H":"COMPLETED","I":"CS","J":"AMER","K":"STRATEGIC","L":"compete","M":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready.","N":"competitivePositioningBd","O":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready. ","P":"**Prior to submitting a request, please review the [Cloud Intelligence Wisdom](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_home) hub. Common vendor specific pages are [Azure](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_azure), [GCP](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_gcp), [Oracle](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_oracle), [Snowflake](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_snowflake) and [Databricks](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_databricks).**\n\n**After reviewing, if additional support is needed complete the below.**\n\n**1. Provide context about the account, the opportunity, and the compete situation. If possible, include a link to Account Plan.**\nWe (as part of the AWS+Amazon Business strategic initiative) are contemplating that (partial/%) spend of a customer on the Amazon Business marketplace counts towards the AWS spend commitment if the customer is buying devices that drive AWS Cloud consumption (e.g., IoT sensors, security cameras). Just checking if you see such practices with our competitors.  \n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\nHave you seen commercial terms that connect / work across business units in One Google or Microsoft deals? For example, Google Ads spend enabling cloud credits or customer spend on Nest devices counting towards Cloud Platform commitment.\n\n**3. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**","Q":"400","R":"Autodesk - EDP Renewal - 2023","S":"44614","T":"45007","U":"Launched","V":"Autodesk, Inc.","W":"ENT","X":"BD","Y":"NAMER","Z":"45169.833333333336","AA":"AMER","AB":"2","AC":"Launched","AD":"Launched","AE":"750000000","AF":"Private Pricing","AG":"Launched","AH":"Wagner,Andre","AI":"Renz,Kathrin","AJ":"AMER","AK":"Other","AL":"1","AM":"45183","AN":"Call set for Sept 14 Noon PST","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"056f482f-f2f0-411c-9336-1a51559926b8","AS":"competitivePositioningBd","AT":"ndwagne","AU":"BD","AV":null,"AW":"AWS Pan Amzn BusinessDev-Fixed","AX":"AWSI","AY":"{bohbrian,loeffler,srosecra,kbuvac,garman}","AZ":"dantsuch","BA":"Tsuchiya,Dan","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"BD","BI":"Bess,Sue","BJ":"45162","BK":"45183","BL":"45183","BM":"45183","BN":"8","BO":"2023","BP":"COMPLETED","BQ":"googleCloudPlatformGcpCompete","BR":"[marketplaceBuyers]","BS":"1","BT":"US","BU":"Seattle","BV":"Washington","BW":"GLBL","BX":"STRATEGIC","BY":"ENT","BZ":"STRAT ISV","CA":"Software & Internet","CB":"STRATEGIC","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/056f482f-f2f0-411c-9336-1a51559926b8","CG":"SA","CH":"45183","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"505","CR":"1","CS":"122","CT":"1","CU":"8","CV":"128","CW":"400","CX":"0064z000026qy3AAAQ","CY":"00T4z000093jsMoEAI","CZ":"1","DA":"Launched","DB":"1","DC":"0","DD":"0","DE":"high","DF":"USD","DG":"No"},{"A":"056f482f-f2f0-411c-9336-1a51559926b8","B":"45162","C":"45183","D":"0064z000026qy3AAAQ","E":"dantsuch","F":"ndwagne","G":"Google Cloud Platform (GCP)","H":"COMPLETED","I":"CS","J":"AMER","K":"STRATEGIC","L":"compete","M":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready.","N":"competitivePositioningBd","O":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready. ","P":"**Prior to submitting a request, please review the [Cloud Intelligence Wisdom](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_home) hub. Common vendor specific pages are [Azure](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_azure), [GCP](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_gcp), [Oracle](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_oracle), [Snowflake](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_snowflake) and [Databricks](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_databricks).**\n\n**After reviewing, if additional support is needed complete the below.**\n\n**1. Provide context about the account, the opportunity, and the compete situation. If possible, include a link to Account Plan.**\nWe (as part of the AWS+Amazon Business strategic initiative) are contemplating that (partial/%) spend of a customer on the Amazon Business marketplace counts towards the AWS spend commitment if the customer is buying devices that drive AWS Cloud consumption (e.g., IoT sensors, security cameras). Just checking if you see such practices with our competitors.  \n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\nHave you seen commercial terms that connect / work across business units in One Google or Microsoft deals? For example, Google Ads spend enabling cloud credits or customer spend on Nest devices counting towards Cloud Platform commitment.\n\n**3. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**","Q":"400","R":"Autodesk - EDP Renewal - 2023","S":"44614","T":"45007","U":"Launched","V":"Autodesk, Inc.","W":"ENT","X":"BD","Y":"NAMER","Z":"45169.833333333336","AA":"AMER","AB":"2","AC":"Launched","AD":"Launched","AE":"750000000","AF":"Private Pricing","AG":"Launched","AH":"Wagner,Andre","AI":"Renz,Kathrin","AJ":"AMER","AK":"Other","AL":"1","AM":"45183","AN":"Strategic Engagment between Pan-Amazon. \nVery interesting opportunity, CI recommendations to explore:\n1. Develop a rev share program with AWS finance to help reduce the blow of allowing Amazon Business purchases to reduce commitment\n2. Attempt to make this public as Google and Microsoft do not have as many options for business products as Amazon Business.  AWS customers will likely switch from competitor business procurement sites (Ariba, NetSuite, Zoro) to Amazon Business.  Amazon Business wins by acquiring new customers. ","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"056f482f-f2f0-411c-9336-1a51559926b8","AS":"competitivePositioningBd","AT":"ndwagne","AU":"BD","AV":null,"AW":"AWS Pan Amzn BusinessDev-Fixed","AX":"AWSI","AY":"{bohbrian,loeffler,srosecra,kbuvac,garman}","AZ":"dantsuch","BA":"Tsuchiya,Dan","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"BD","BI":"Bess,Sue","BJ":"45162","BK":"45183","BL":"45183","BM":"45183","BN":"8","BO":"2023","BP":"COMPLETED","BQ":"googleCloudPlatformGcpCompete","BR":"[marketplaceBuyers]","BS":"1","BT":"US","BU":"Seattle","BV":"Washington","BW":"GLBL","BX":"STRATEGIC","BY":"ENT","BZ":"STRAT ISV","CA":"Software & Internet","CB":"STRATEGIC","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/056f482f-f2f0-411c-9336-1a51559926b8","CG":"SA","CH":"45183","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"505","CR":"1","CS":"122","CT":"1","CU":"8","CV":"128","CW":"400","CX":"0064z000026qy3AAAQ","CY":"00T4z000093jsMoEAI","CZ":"1","DA":"Launched","DB":"1","DC":"0","DD":"0","DE":"high","DF":"USD","DG":"No"},{"A":"056f482f-f2f0-411c-9336-1a51559926b8","B":"45162","C":"45183","D":"0064z000026qy3AAAQ","E":"dantsuch","F":"ndwagne","G":"Google Cloud Platform (GCP)","H":"COMPLETED","I":"CS","J":"AMER","K":"STRATEGIC","L":"compete","M":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready.","N":"competitivePositioningBd","O":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready. ","P":"**Prior to submitting a request, please review the [Cloud Intelligence Wisdom](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_home) hub. Common vendor specific pages are [Azure](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_azure), [GCP](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_gcp), [Oracle](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_oracle), [Snowflake](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_snowflake) and [Databricks](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_databricks).**\n\n**After reviewing, if additional support is needed complete the below.**\n\n**1. Provide context about the account, the opportunity, and the compete situation. If possible, include a link to Account Plan.**\nWe (as part of the AWS+Amazon Business strategic initiative) are contemplating that (partial/%) spend of a customer on the Amazon Business marketplace counts towards the AWS spend commitment if the customer is buying devices that drive AWS Cloud consumption (e.g., IoT sensors, security cameras). Just checking if you see such practices with our competitors.  \n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\nHave you seen commercial terms that connect / work across business units in One Google or Microsoft deals? For example, Google Ads spend enabling cloud credits or customer spend on Nest devices counting towards Cloud Platform commitment.\n\n**3. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**","Q":"400","R":"Autodesk - EDP Renewal - 2023","S":"44614","T":"45007","U":"Launched","V":"Autodesk, Inc.","W":"ENT","X":"BD","Y":"NAMER","Z":"45169.833333333336","AA":"AMER","AB":"2","AC":"Launched","AD":"Launched","AE":"750000000","AF":"Private Pricing","AG":"Launched","AH":"Wagner,Andre","AI":"Renz,Kathrin","AJ":"AMER","AK":"Other","AL":"1","AM":"45162","AN":"For some reason Susan is not available to add on the Spec Req as a team member.  Call set for Sept 14 when team members back from PTO","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"056f482f-f2f0-411c-9336-1a51559926b8","AS":"competitivePositioningBd","AT":"ndwagne","AU":"BD","AV":null,"AW":"AWS Pan Amzn BusinessDev-Fixed","AX":"AWSI","AY":"{bohbrian,loeffler,srosecra,kbuvac,garman}","AZ":"dantsuch","BA":"Tsuchiya,Dan","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"BD","BI":"Bess,Sue","BJ":"45162","BK":"45183","BL":"45183","BM":"45183","BN":"8","BO":"2023","BP":"COMPLETED","BQ":"googleCloudPlatformGcpCompete","BR":"[marketplaceBuyers]","BS":"1","BT":"US","BU":"Seattle","BV":"Washington","BW":"GLBL","BX":"STRATEGIC","BY":"ENT","BZ":"STRAT ISV","CA":"Software & Internet","CB":"STRATEGIC","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/056f482f-f2f0-411c-9336-1a51559926b8","CG":"SA","CH":"45183","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"505","CR":"1","CS":"122","CT":"1","CU":"8","CV":"128","CW":"400","CX":"0064z000026qy3AAAQ","CY":"00T4z000093jsMoEAI","CZ":"1","DA":"Launched","DB":"1","DC":"0","DD":"0","DE":"high","DF":"USD","DG":"No"},{"A":"056f482f-f2f0-411c-9336-1a51559926b8","B":"45162","C":"45183","D":"0064z000026qy3AAAQ","E":"dantsuch","F":"ndwagne","G":"Google Cloud Platform (GCP)","H":"COMPLETED","I":"CS","J":"AMER","K":"STRATEGIC","L":"compete","M":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready.","N":"competitivePositioningBd","O":"Closing this Spec Req, please feel free to open another if the competitive situation changes. I can review the compete section of the document when ready. ","P":"**Prior to submitting a request, please review the [Cloud Intelligence Wisdom](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_home) hub. Common vendor specific pages are [Azure](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_azure), [GCP](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_gcp), [Oracle](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_oracle), [Snowflake](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_snowflake) and [Databricks](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_databricks).**\n\n**After reviewing, if additional support is needed complete the below.**\n\n**1. Provide context about the account, the opportunity, and the compete situation. If possible, include a link to Account Plan.**\nWe (as part of the AWS+Amazon Business strategic initiative) are contemplating that (partial/%) spend of a customer on the Amazon Business marketplace counts towards the AWS spend commitment if the customer is buying devices that drive AWS Cloud consumption (e.g., IoT sensors, security cameras). Just checking if you see such practices with our competitors.  \n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\nHave you seen commercial terms that connect / work across business units in One Google or Microsoft deals? For example, Google Ads spend enabling cloud credits or customer spend on Nest devices counting towards Cloud Platform commitment.\n\n**3. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**","Q":"400","R":"Autodesk - EDP Renewal - 2023","S":"44614","T":"45007","U":"Launched","V":"Autodesk, Inc.","W":"ENT","X":"BD","Y":"NAMER","Z":"45169.833333333336","AA":"AMER","AB":"2","AC":"Launched","AD":"Launched","AE":"750000000","AF":"Private Pricing","AG":"Launched","AH":"Wagner,Andre","AI":"Renz,Kathrin","AJ":"AMER","AK":"Other","AL":"1","AM":"45170","AN":"Call set for Sept 14, Subject, Cross-BU commercial deals seen at Google or MSFT","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"056f482f-f2f0-411c-9336-1a51559926b8","AS":"competitivePositioningBd","AT":"ndwagne","AU":"BD","AV":null,"AW":"AWS Pan Amzn BusinessDev-Fixed","AX":"AWSI","AY":"{bohbrian,loeffler,srosecra,kbuvac,garman}","AZ":"dantsuch","BA":"Tsuchiya,Dan","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"BD","BI":"Bess,Sue","BJ":"45162","BK":"45183","BL":"45183","BM":"45183","BN":"8","BO":"2023","BP":"COMPLETED","BQ":"googleCloudPlatformGcpCompete","BR":"[marketplaceBuyers]","BS":"1","BT":"US","BU":"Seattle","BV":"Washington","BW":"GLBL","BX":"STRATEGIC","BY":"ENT","BZ":"STRAT ISV","CA":"Software & Internet","CB":"STRATEGIC","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/056f482f-f2f0-411c-9336-1a51559926b8","CG":"SA","CH":"45183","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"505","CR":"1","CS":"122","CT":"1","CU":"8","CV":"128","CW":"400","CX":"0064z000026qy3AAAQ","CY":"00T4z000093jsMoEAI","CZ":"1","DA":"Launched","DB":"1","DC":"0","DD":"0","DE":"high","DF":"USD","DG":"No"},{"A":"01a38002-8c73-4131-9ff5-95723cdb6291","B":"45103","C":"45140","D":"0064z000027xmM6AAI","E":"lamonhar","F":"irierac","G":"Oracle Cloud","H":"COMPLETED","I":"PS","J":"EMEA","K":"EUROPE-PS","L":"compete","M":"Provided references to Oracle Compete self","N":"competitivePositioningBd","O":"Provided references to Oracle Compete self-service content in efforts to formulate AWS value proposition against Oracle Cloud.  Advised requester on use of the compete content.","P":"The customer has been trying to move to AWS for a year but being a university and having the budget locked in a European Framework and the partner not having presence in the territory it's getting difficult to move forward. The toal opp is 900k$ARR\nOCI is pressuring as they have spanisnh partners and is giving cheaper prices than us.","Q":"200","R":"UMU - Oracle migration","S":"44726","T":"45351","U":"Business Validation","V":"Universidad de Murcia","W":"MMN","X":"Public Sector","Y":"GLBL","Z":"45138.833333333336","AA":"EMEA","AB":"1","AC":"Business Validation","AD":"Business Validation","AE":"468000","AF":"Utility","AG":"Business Validation","AH":"Riera Camps,Ignasi","AI":"Levy,Dave","AJ":"EMEA","AK":"Account Manager","AL":"1","AM":"","AN":"","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"01a38002-8c73-4131-9ff5-95723cdb6291","AS":"competitivePositioningBd","AT":"irierac","AU":"Other","AV":null,"AW":"AWS WWPS Geo CEMEA Sales - VAR","AX":"Other","AY":"No Supervisor Hierarchy","AZ":"lamonhar","BA":"Harrington,Lamont","BB":"WWPS Solution Architecture","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"SA","BI":"Storck,Thomas","BJ":"45103","BK":"45140","BL":"45105","BM":"45111","BN":"6","BO":"2023","BP":"COMPLETED","BQ":"oracleCloudCompete","BR":"[]","BS":"1","BT":"ES","BU":"Murcia","BV":"Murcia","BW":"EMEA","BX":"EUROPE-PS","BY":"MMN","BZ":"ES-PS","CA":"Education","CB":"EUROPE-PS","CC":"EMEA","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/01a38002-8c73-4131-9ff5-95723cdb6291","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"890","CR":"1","CS":"216","CT":"0","CU":"8","CV":"224","CW":"200","CX":"0064z000027xmM6AAI","CY":"00T4z00008wv4FvEAI","CZ":"0","DA":"Business Validation","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"Yes"},{"A":"01aca13d-9bad-4f5e-9c0f-0986219b8012","B":"45268","C":"","D":"0064z00002BfZnkAAF","E":"lamonhar","F":"zhaydar","G":"Microsoft Azure","H":"WORKING","I":"PS","J":"AMER","K":"CAN-PS","L":"compete","M":"","N":"salesPlaySupport","O":"","P":"**1. Provide context about the account, the opportunity, and the compete situation. If possible, include a link to Account Plan.**\n\nWe have an XL migration opp at Hydro-Quebec: 13K servers and 4K databases. We are competing with Azure, who has been spreading FUD in the account around Azure Hybrid Benefits and that AWS is 5x more expensive than Azure. We need an expert to help us navigate this competitive situation. A $106M EDP plus $3M+ migration opp in 2024 at steak.\n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, SnowFlake for Data Lakes, etc.)**\n\nBYOL and AHB\n\n**3. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\n\nProvide arguments to counter the FUD around BYOL and AHB.","Q":"300","R":"CA - QC - Hydro-Québec - Migration factory phase II (datacenter migration/ dematerialisation)","S":"45037","T":"45639","U":"Prospect","V":"CA - QC - Hydro-Québec","W":"ENT","X":"Public Sector","Y":"GLBL","Z":"","AA":"AMER","AB":"","AC":"Prospect","AD":"","AE":"9000000","AF":"Utility","AG":"Prospect","AH":"Haydar,Zaher","AI":"Levy,Dave","AJ":"AMER","AK":"Other","AL":"1","AM":"","AN":"","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"01aca13d-9bad-4f5e-9c0f-0986219b8012","AS":"salesPlaySupport","AT":"zhaydar","AU":"Other","AV":null,"AW":"WWPS Partners Core Support-VAR","AX":"WWPS","AY":"{riazmha,sgilmer,jeffrek,levdavid,garman}","AZ":"lamonhar","BA":"Harrington,Lamont","BB":"WWPS Solution Architecture","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"SA","BI":"Storck,Thomas","BJ":"45268","BK":"","BL":"45271","BM":"45280","BN":"12","BO":"2023","BP":"WORKING","BQ":"microsoftAzureCompete","BR":"[]","BS":"1","BT":"CA","BU":"Montreal","BV":"Quebec","BW":"AMER","BX":"CAN-PS","BY":"ENT","BZ":"CANPS","CA":"Power & Utilities","CB":"CAN-PS","CC":"NAMER","CD":"jobRoleIncorrect","CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/01aca13d-9bad-4f5e-9c0f-0986219b8012","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"1","CM":"0","CN":"0","CO":"0","CP":"1","CQ":"","CR":"73","CS":"","CT":"9","CU":"16","CV":"","CW":"300","CX":"0064z00002BfZnkAAF","CY":"00TRU0000004PKr2AM","CZ":"0","DA":"Prospect","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"01f1eedc-ad70-492c-8902-00bd465fc8a6","B":"45071","C":"45112","D":"0064z000027wgl1AAA","E":"hayoichi","F":"hayoichi","G":"On-Prem/Co-location","H":"COMPLETED","I":"CS","J":"JAPN","K":"JAPN","L":"compete","M":"CE Credit program round 1 finished.","N":"competitivePositioningCiTeamSourced","O":"CE Credit program round 1 finished.","P":"CE credit program \n\nTracking: https://us-east-1.quicksight.aws.amazon.com/sn/dashboards/50f34d4c-2c35-4681-aab4-5e204a1c3002/sheets/50f34d4c-2c35-4681-aab4-5e204a1c3002_a711aa3e-dd27-4563-8d55-0ec1787d3a46\nNomination list: https://quip-amazon.com/noZ4Ag6WHVI9/CE#temp:C:AcC74e2fd6374e148888cf9cf66a","Q":"200","R":"Nomura Real Estate Holdings, Inc. - DCMigration","S":"44715","T":"45412","U":"Technical Validation","V":"Nomura Real Estate Holdings, Inc.","W":"ENT","X":"CI Internaqtional","Y":"APJ","Z":"45107.833333333336","AA":"JAPN","AB":"3","AC":"Qualified","AD":"Qualified","AE":"1548000","AF":"Utility","AG":"Technical Validation","AH":"Hasegawa,Yoichi","AI":"Pearson,Greg","AJ":"APJ","AK":"Other","AL":"1","AM":"45181","AN":"#competefunding #proactive","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"01f1eedc-ad70-492c-8902-00bd465fc8a6","AS":"competitivePositioningCiTeamSourced","AT":"hayoichi","AU":"BD","AV":"specialist","AW":"AWS WWCS Geo GTM - VAR","AX":"WWCS","AY":"{hmorimur,yukikost,tadaona,vallesj,grp,garman}","AZ":"hayoichi","BA":"Hasegawa,Yoichi","BB":"AWS WWCS Geo GTM - VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"BD","BI":"Morimura,Hiroko","BJ":"45071","BK":"45112","BL":"45072","BM":"45107","BN":"5","BO":"2023","BP":"COMPLETED","BQ":"onPremCoLocationCompete","BR":"[]","BS":"1","BT":"JP","BU":"Tokyo","BV":"Tokyo","BW":"JAPN","BX":"JAPN","BY":"ENT","BZ":"ENT-RETAIL&SERVICE","CA":"Real Estate & Construction","CB":"JAPN","CC":"APJ","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/01f1eedc-ad70-492c-8902-00bd465fc8a6","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"986","CR":"1","CS":"234","CT":"0","CU":"8","CV":"240","CW":"200","CX":"0064z000027wgl1AAA","CY":"00T4z00008tdxe1EAA","CZ":"0","DA":"Technical Validation","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"0abea788-0e30-48b9-8af0-e1c6e80400c6","B":"45139","C":"45139","D":"0064z00002AuyFzAAJ","E":"awsrod","F":"ksev","G":"Microsoft Azure","H":"COMPLETED","I":"CS","J":"APAC","K":"ANZ","L":"compete","M":"Hi Team \n \nHope you are well, attached you will find the AWS Value Based Differentiation Deck for the Westpac account.\n \nFor all other countries in APJ except Korea, this report can be disclosed with customers on a 1:1 basis in a live presentation, and via email under “AWS confidential. Do not share” (subject to disclaimer in slide 2).\n \nFor Korean customers this report should only be presented live and hard/soft copy should not be distributed.\nI can confirm that we have already had a session and gone over the details of the report to:\n•\tEnsure we help you get most value of this report with your customer\n•\tClarify the terms of use \n \n\nBest Regards,","N":"salesPlaySupport","O":"Hi Team \n \nHope you are well, attached you will find the AWS Value Based Differentiation Deck for the Westpac account.\n \nFor all other countries in APJ except Korea, this report can be disclosed with customers on a 1:1 basis in a live presentation, and via email under “AWS confidential. Do not share” (subject to disclaimer in slide 2).\n \nFor Korean customers this report should only be presented live and hard/soft copy should not be distributed.\nI can confirm that we have already had a session and gone over the details of the report to:\n•\tEnsure we help you get most value of this report with your customer\n•\tClarify the terms of use \n \n\nBest Regards,\n","P":"#incidentdashboard\n\n**1. Provide context about the account, the opportunity, and the compete situation. If possible, include a link to Account Plan.**\n \n\n**2. Name of customer to use as watermark? **\n\n>  Westpac - as discussed with awsrod@\n\n**3. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\n\n**4.Interested in seeing service downtime data for: (only leave relevant ones to you ) **\n\n•APJ+C : (includes China)\n•Australia\n\n**5.Has the account team/requestor  attended a training or briefing session where we discussed legal disclaimer and how to pitch ?**\n\nYES : ANZ FSI Enablement session \n\n","Q":"200","R":"Westpac - NPP OPF FIS ISVA","S":"44971","T":"45195","U":"Launched","V":"Westpac Banking Corporation","W":"ENT","X":"CI Internaqtional","Y":"APJ","Z":"45138.833333333336","AA":"APAC","AB":"1","AC":"Committed","AD":"","AE":"972000","AF":"Utility","AG":"Launched","AH":"Severijns,Kris","AI":"Pearson,Greg","AJ":"APJ","AK":"Solution Architect","AL":"1","AM":"","AN":"","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"0abea788-0e30-48b9-8af0-e1c6e80400c6","AS":"salesPlaySupport","AT":"ksev","AU":"SA","AV":"account","AW":"AWS WWCSGeoSolutionArch-VAR","AX":"WWCS","AY":"{awsshaun,naomimh,namjecho,riannev,vallesj,grp,garman}","AZ":"awsrod","BA":"del Busto,Rodrigo","BB":"AWS WWCSPan-GeoBusinessDev-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"BD","BI":"Devan,Sudith","BJ":"45139","BK":"45139","BL":"45140","BM":"45142","BN":"8","BO":"2023","BP":"COMPLETED","BQ":"microsoftAzureCompete","BR":"[]","BS":"1","BT":"AU","BU":"Sydney","BV":"New South Wales","BW":"APAC","BX":"ANZ","BY":"ENT","BZ":"NSW","CA":"Financial Services","CB":"ANZ","CC":"APJ","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/0abea788-0e30-48b9-8af0-e1c6e80400c6","CG":"SA","CH":"45139","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"11","CR":"11","CS":"8","CT":"8","CU":"8","CV":"8","CW":"200","CX":"0064z00002AuyFzAAJ","CY":"00T4z000091MS4lEAG","CZ":"1","DA":"Launched","DB":"1","DC":"0","DD":"0","DE":"standard","DF":"USD","DG":"Yes"},{"A":"1135825c-333f-4a8f-8c78-c30b7f945573","B":"45098","C":"45098","D":"0064z00002BflffAAB","E":"sampatkv","F":"ayushagl","G":"Analytics","H":"CANCELLED","I":"CS","J":"APAC","K":"INDIA","L":"compete","M":"other","N":"architectureReview","O":"other - Thank you for submitting a request for Cloud Intelligence. Unfortunately at this time we do not have a resource available to assist. If you haven't already please review the CI Wisdom page as we may have content available that fits your needs.","P":"The customer is migrating from GCP to AWS.\nThe customer is using DataBricks and have spark jobs configured in the same.\nLooking for an expert with experience in DataBricks to help with Migration and finding the TCO for the Databricks workload.\n\n**Prior to submitting a request, please review the [Cloud Intelligence Wisdom](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_home) hub. Common vendor specific pages are [Azure](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_azure), [GCP](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_gcp), [Oracle](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_oracle), [Snowflake](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_snowflake) and [Databricks](https://cloud-intelligence.sales.aws.dev/link/specreq_wisdom_databricks).**\n\n**After reviewing, if additional support is needed complete the below.**\n\n**1. Provide context about the account, the opportunity, and the compete situation. If available, include related Quip document links, Slack channels etc.**\n \n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\n\n\n**3. What are the AWS technologies you are positioning? Please be specific (e.g., Control Tower, S3 Glacier Storage, EC2, EKS, etc.)**\n\n\n**4. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**","Q":"400","R":"Bitscrunch #extmig #gcp","S":"45041","T":"45154","U":"Launched","V":"BITSCRUNCH","W":"SUP","X":"CI Internaqtional","Y":"APJ","Z":"45077.833333333336","AA":"APAC","AB":"","AC":"Technical Validation","AD":"","AE":"1343700","AF":"Utility","AG":"Launched","AH":"Agrawal,Ayush","AI":"Pearson,Greg","AJ":"APJ","AK":"Solution Architect","AL":"1","AM":"","AN":"","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"1135825c-333f-4a8f-8c78-c30b7f945573","AS":"architectureReview","AT":"ayushagl","AU":"SA","AV":"account","AW":"AWS WWCS StartSolArchiCov- VAR","AX":"WWCS","AY":"{ashwra,npandur,kkumrag,vkasture,vallesj,grp,garman}","AZ":"sampatkv","BA":"Venkataswamy,Sampath","BB":"AWS WWCS Geo GTM - VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":"[awsrod]","BF":"1","BG":"X-TFC Member","BH":"BD","BI":"Gautam,Nishant","BJ":"45098","BK":"45098","BL":"45099","BM":"45101","BN":"","BO":"","BP":"CANCELLED","BQ":"analyticsCompete","BR":"[databricksCompete]","BS":"0","BT":"IN","BU":"Bangalore","BV":"Karnataka","BW":"APAC","BX":"INDIA","BY":"SUP","BZ":"IN-SOUTH","CA":"Software & Internet","CB":"INDIA","CC":"APJ","CD":null,"CE":"other","CF":"https://spec-req.sales.aws.a2z.com/request/1135825c-333f-4a8f-8c78-c30b7f945573","CG":"SA","CH":"45098","CI":"0","CJ":"1","CK":"1","CL":"0","CM":"0","CN":"1","CO":"0","CP":"0","CQ":"3","CR":"","CS":"3","CT":"","CU":"","CV":"8","CW":"400","CX":"0064z00002BflffAAB","CY":null,"CZ":"0","DA":"Launched","DB":"1","DC":"0","DD":"0","DE":"standard","DF":"USD","DG":"Yes"},{"A":"08644928-98d6-46ce-abaa-e1377577caf3","B":"45195","C":"45213","D":"0064z00002DJ6tAAAT","E":"jaimerz","F":"shhrji","G":"Microsoft Azure","H":"COMPLETED","I":"CS","J":"AMER","K":"GLOBAL","L":"compete","M":"Pfizer team has everything needed","N":"salesPlaySupport","O":"Pfizer team has everything needed","P":"Pfizer has asked us for \"Success Criteria/Metrics\" for the GenAI prototypes/MVP we plan to build for the 22 use cases for Pfizer. This is a competitive against OpenAI. We have an opportunity to influence the Success criteria. I've taken a stab at creating the evaluation success metrics, based on some the CI metrics but we'd like review from CI GenAI / OpenAI expert before we send it to Pfizer. These set of POC metrics will also be beneficial to other accounts hence would CI input and feedback. This is a fairly urgent request as we need to send the document to Pfizer over the next couple of days.","Q":"300","R":"Pfizer - GenAI - Organizational Announcements Drafting","S":"45181","T":"45275","U":"Qualified","V":"Pfizer Inc.","W":"ENT","X":"Azure","Y":"NAMER","Z":"45199.833333333336","AA":"AMER","AB":"5","AC":"Qualified","AD":"Qualified","AE":"4132188","AF":"Utility","AG":"Qualified","AH":"Shah,Rajiv","AI":"Renz,Kathrin","AJ":"AMER","AK":"Account Manager","AL":"1","AM":"45212","AN":"hi Rajiv, \nI am SA lead for cloud intelligence.  Sonia went on unexpcted medical leave early in the week, so i am taking over a few of her specreqs.  Can you let me know what next steps are for Pfizer?  \nDo you still need anything from Cloud Intelligence? \n\nthanks! ","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"08644928-98d6-46ce-abaa-e1377577caf3","AS":"salesPlaySupport","AT":"shhrji","AU":"Seller","AV":null,"AW":"AWS BDSI HCLS Field Sales-VAR","AX":"Other","AY":"No Supervisor Hierarchy","AZ":"jaimerz","BA":"Rodriguez,Jaime Placido","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":"[sonang, kaiyer, canonkev, rjaisun]","BF":"4","BG":"X-TFC Member","BH":"SA","BI":"Schnell-Brakeley,Maria","BJ":"45195","BK":"45213","BL":"45196","BM":"45196","BN":"9","BO":"2023","BP":"COMPLETED","BQ":"microsoftAzureCompete","BR":"[]","BS":"1","BT":"US","BU":"New York","BV":"New York","BW":"GLBL","BX":"GLOBAL","BY":"ENT","BZ":"LIFE SCIENCES","CA":"Life Sciences","CB":"GLOBAL","CC":"OTHER","CD":null,"CE":"insufficientAvailability","CF":"https://spec-req.sales.aws.a2z.com/request/08644928-98d6-46ce-abaa-e1377577caf3","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"417","CR":"49","CS":"104","CT":"16","CU":"24","CV":"112","CW":"300","CX":"0064z00002DJ6tAAAT","CY":"00T4z000099D2p0EAC","CZ":"0","DA":"Qualified","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"08644928-98d6-46ce-abaa-e1377577caf3","B":"45195","C":"45213","D":"0064z00002DJ6tAAAT","E":"jaimerz","F":"shhrji","G":"Microsoft Azure","H":"COMPLETED","I":"CS","J":"AMER","K":"GLOBAL","L":"compete","M":"Pfizer team has everything needed","N":"salesPlaySupport","O":"Pfizer team has everything needed","P":"Pfizer has asked us for \"Success Criteria/Metrics\" for the GenAI prototypes/MVP we plan to build for the 22 use cases for Pfizer. This is a competitive against OpenAI. We have an opportunity to influence the Success criteria. I've taken a stab at creating the evaluation success metrics, based on some the CI metrics but we'd like review from CI GenAI / OpenAI expert before we send it to Pfizer. These set of POC metrics will also be beneficial to other accounts hence would CI input and feedback. This is a fairly urgent request as we need to send the document to Pfizer over the next couple of days.","Q":"300","R":"Pfizer - GenAI - Organizational Announcements Drafting","S":"45181","T":"45275","U":"Qualified","V":"Pfizer Inc.","W":"ENT","X":"Azure","Y":"NAMER","Z":"45199.833333333336","AA":"AMER","AB":"5","AC":"Qualified","AD":"Qualified","AE":"4132188","AF":"Utility","AG":"Qualified","AH":"Shah,Rajiv","AI":"Renz,Kathrin","AJ":"AMER","AK":"Account Manager","AL":"1","AM":"45212","AN":"We are good and have what we need. You can close out this specreq. Thanks for reaching out!","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"08644928-98d6-46ce-abaa-e1377577caf3","AS":"salesPlaySupport","AT":"shhrji","AU":"Seller","AV":null,"AW":"AWS BDSI HCLS Field Sales-VAR","AX":"Other","AY":"No Supervisor Hierarchy","AZ":"jaimerz","BA":"Rodriguez,Jaime Placido","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":"[sonang, kaiyer, canonkev, rjaisun]","BF":"4","BG":"X-TFC Member","BH":"SA","BI":"Schnell-Brakeley,Maria","BJ":"45195","BK":"45213","BL":"45196","BM":"45196","BN":"9","BO":"2023","BP":"COMPLETED","BQ":"microsoftAzureCompete","BR":"[]","BS":"1","BT":"US","BU":"New York","BV":"New York","BW":"GLBL","BX":"GLOBAL","BY":"ENT","BZ":"LIFE SCIENCES","CA":"Life Sciences","CB":"GLOBAL","CC":"OTHER","CD":null,"CE":"insufficientAvailability","CF":"https://spec-req.sales.aws.a2z.com/request/08644928-98d6-46ce-abaa-e1377577caf3","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"417","CR":"49","CS":"104","CT":"16","CU":"24","CV":"112","CW":"300","CX":"0064z00002DJ6tAAAT","CY":"00T4z000099D2p0EAC","CZ":"0","DA":"Qualified","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"08da9466-bb51-4072-a8e8-775a74e38b96","B":"45198","C":"45233","D":"0064z00002DJ8A2AAL","E":"paulcw","F":"jcclairm","G":"On-Prem/Co-location","H":"COMPLETED","I":"CS","J":"AMER","K":"GAMES","L":"compete","M":"Closing for now due to lack of need. Please re","N":"competitivePositioningSa","O":"Closing for now due to lack of need. Please re-open if CI can be of help on this opportunity","P":"**1. Provide context about the account, the opportunity, and the compete situation. If available, include related Quip document links, Slack channels etc.**\n Customer is evaluating Outposts vs HPE greenlake, account team needs more feedback on technical differences of these products.\n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\n\nHPE greenlake\n\n\n**3. What are the AWS technologies you are positioning? Please be specific (e.g., Control Tower, S3 Glacier Storage, EC2, EKS, etc.)**\n\nOutpost\n\n\n**4. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\ntechnical understanding of HPE greenalake","Q":"300","R":"SG - Outpost iLottery Michigan","S":"45181","T":"45382","U":"Technical Validation","V":"Scientific Games International, LLC","W":"DNB","X":"Emerging Tech","Y":"NAMER","Z":"45230.833333333336","AA":"AMER","AB":"8","AC":"Technical Validation","AD":"Technical Validation","AE":"4443000","AF":"Committed Contract","AG":"Technical Validation","AH":"Clairmont,Jason","AI":"Pearson,Greg","AJ":"AMER","AK":"Account Manager","AL":"1","AM":"45222","AN":"Hi jason -\n\nIs there anything else I can provide? Sorry there is no public pricing. Given teh size fo this opportunity, I'm sure you're getitng a discount. I wasn't expecting HPE GreenLake to be cheaper. \n\nPaul","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"08da9466-bb51-4072-a8e8-775a74e38b96","AS":"competitivePositioningSa","AT":"jcclairm","AU":"Seller","AV":null,"AW":"AWS WWCS Geo ComFieldSale-VAR","AX":"WWCS","AY":"{jjasmil,carped,rgeraffo,grp,garman}","AZ":"paulcw","BA":"Wilson,Paul C","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"SA","BI":"Aikins,Michaela A","BJ":"45198","BK":"45233","BL":"45201","BM":"45205","BN":"9","BO":"2023","BP":"COMPLETED","BQ":"onPremCoLocationCompete","BR":"[]","BS":"1","BT":"US","BU":"Denver","BV":"Colorado","BW":"AMER","BX":"GAMES","BY":"DNB","BZ":"RMG GAMES","CA":"Gaming","CB":"GAMES","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/08da9466-bb51-4072-a8e8-775a74e38b96","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"843","CR":"1","CS":"203","CT":"1","CU":"8","CV":"208","CW":"300","CX":"0064z00002DJ8A2AAL","CY":"00T4z000097mpGeEAI","CZ":"0","DA":"Technical Validation","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"08da9466-bb51-4072-a8e8-775a74e38b96","B":"45198","C":"45233","D":"0064z00002DJ8A2AAL","E":"paulcw","F":"jcclairm","G":"On-Prem/Co-location","H":"COMPLETED","I":"CS","J":"AMER","K":"GAMES","L":"compete","M":"Closing for now due to lack of need. Please re","N":"competitivePositioningSa","O":"Closing for now due to lack of need. Please re-open if CI can be of help on this opportunity","P":"**1. Provide context about the account, the opportunity, and the compete situation. If available, include related Quip document links, Slack channels etc.**\n Customer is evaluating Outposts vs HPE greenlake, account team needs more feedback on technical differences of these products.\n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\n\nHPE greenlake\n\n\n**3. What are the AWS technologies you are positioning? Please be specific (e.g., Control Tower, S3 Glacier Storage, EC2, EKS, etc.)**\n\nOutpost\n\n\n**4. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\ntechnical understanding of HPE greenalake","Q":"300","R":"SG - Outpost iLottery Michigan","S":"45181","T":"45382","U":"Technical Validation","V":"Scientific Games International, LLC","W":"DNB","X":"Emerging Tech","Y":"NAMER","Z":"45230.833333333336","AA":"AMER","AB":"8","AC":"Technical Validation","AD":"Technical Validation","AE":"4443000","AF":"Committed Contract","AG":"Technical Validation","AH":"Clairmont,Jason","AI":"Pearson,Greg","AJ":"AMER","AK":"Account Manager","AL":"1","AM":"45198","AN":"Please look at our wisdom page on GreenLake - https://wisdom.corp.amazon.com/Pages/Cloud-Intelligence-HPE-Greenlake.aspx . It may get you started. The other good resource is the AWS Differences deck, which doesn't talk about GreenLake but shows how good a choice AWS can be - https://wisdom.corp.amazon.com/Pages/HighSpotSpots.aspx?GUID=5b345c341279583ce3fefe06&list=all.\n\nWhat services does the customer want to run? What problem are they trying to solve that their existing systems will not do the way they want? Why are they looking on-prem v in AWS Cloud?\n\nI have to leave early today for a commitment, but would be happy to jump on. a call Monday 10/2 to clarify the situation and see what I can research for you.\n\nPaul","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"08da9466-bb51-4072-a8e8-775a74e38b96","AS":"competitivePositioningSa","AT":"jcclairm","AU":"Seller","AV":null,"AW":"AWS WWCS Geo ComFieldSale-VAR","AX":"WWCS","AY":"{jjasmil,carped,rgeraffo,grp,garman}","AZ":"paulcw","BA":"Wilson,Paul C","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"SA","BI":"Aikins,Michaela A","BJ":"45198","BK":"45233","BL":"45201","BM":"45205","BN":"9","BO":"2023","BP":"COMPLETED","BQ":"onPremCoLocationCompete","BR":"[]","BS":"1","BT":"US","BU":"Denver","BV":"Colorado","BW":"AMER","BX":"GAMES","BY":"DNB","BZ":"RMG GAMES","CA":"Gaming","CB":"GAMES","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/08da9466-bb51-4072-a8e8-775a74e38b96","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"843","CR":"1","CS":"203","CT":"1","CU":"8","CV":"208","CW":"300","CX":"0064z00002DJ8A2AAL","CY":"00T4z000097mpGeEAI","CZ":"0","DA":"Technical Validation","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"08da9466-bb51-4072-a8e8-775a74e38b96","B":"45198","C":"45233","D":"0064z00002DJ8A2AAL","E":"paulcw","F":"jcclairm","G":"On-Prem/Co-location","H":"COMPLETED","I":"CS","J":"AMER","K":"GAMES","L":"compete","M":"Closing for now due to lack of need. Please re","N":"competitivePositioningSa","O":"Closing for now due to lack of need. Please re-open if CI can be of help on this opportunity","P":"**1. Provide context about the account, the opportunity, and the compete situation. If available, include related Quip document links, Slack channels etc.**\n Customer is evaluating Outposts vs HPE greenlake, account team needs more feedback on technical differences of these products.\n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\n\nHPE greenlake\n\n\n**3. What are the AWS technologies you are positioning? Please be specific (e.g., Control Tower, S3 Glacier Storage, EC2, EKS, etc.)**\n\nOutpost\n\n\n**4. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\ntechnical understanding of HPE greenalake","Q":"300","R":"SG - Outpost iLottery Michigan","S":"45181","T":"45382","U":"Technical Validation","V":"Scientific Games International, LLC","W":"DNB","X":"Emerging Tech","Y":"NAMER","Z":"45230.833333333336","AA":"AMER","AB":"8","AC":"Technical Validation","AD":"Technical Validation","AE":"4443000","AF":"Committed Contract","AG":"Technical Validation","AH":"Clairmont,Jason","AI":"Pearson,Greg","AJ":"AMER","AK":"Account Manager","AL":"1","AM":"45230","AN":"Hi Jason -\n\nIs it time to close this specreq? We can happily re-open it or open a new one if this customer needs more attention. If I don't hear from you by Friday, I will close this specreq.\n\nThanks, Paul","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"08da9466-bb51-4072-a8e8-775a74e38b96","AS":"competitivePositioningSa","AT":"jcclairm","AU":"Seller","AV":null,"AW":"AWS WWCS Geo ComFieldSale-VAR","AX":"WWCS","AY":"{jjasmil,carped,rgeraffo,grp,garman}","AZ":"paulcw","BA":"Wilson,Paul C","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"SA","BI":"Aikins,Michaela A","BJ":"45198","BK":"45233","BL":"45201","BM":"45205","BN":"9","BO":"2023","BP":"COMPLETED","BQ":"onPremCoLocationCompete","BR":"[]","BS":"1","BT":"US","BU":"Denver","BV":"Colorado","BW":"AMER","BX":"GAMES","BY":"DNB","BZ":"RMG GAMES","CA":"Gaming","CB":"GAMES","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/08da9466-bb51-4072-a8e8-775a74e38b96","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"843","CR":"1","CS":"203","CT":"1","CU":"8","CV":"208","CW":"300","CX":"0064z00002DJ8A2AAL","CY":"00T4z000097mpGeEAI","CZ":"0","DA":"Technical Validation","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"08da9466-bb51-4072-a8e8-775a74e38b96","B":"45198","C":"45233","D":"0064z00002DJ8A2AAL","E":"paulcw","F":"jcclairm","G":"On-Prem/Co-location","H":"COMPLETED","I":"CS","J":"AMER","K":"GAMES","L":"compete","M":"Closing for now due to lack of need. Please re","N":"competitivePositioningSa","O":"Closing for now due to lack of need. Please re-open if CI can be of help on this opportunity","P":"**1. Provide context about the account, the opportunity, and the compete situation. If available, include related Quip document links, Slack channels etc.**\n Customer is evaluating Outposts vs HPE greenlake, account team needs more feedback on technical differences of these products.\n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\n\nHPE greenlake\n\n\n**3. What are the AWS technologies you are positioning? Please be specific (e.g., Control Tower, S3 Glacier Storage, EC2, EKS, etc.)**\n\nOutpost\n\n\n**4. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\ntechnical understanding of HPE greenalake","Q":"300","R":"SG - Outpost iLottery Michigan","S":"45181","T":"45382","U":"Technical Validation","V":"Scientific Games International, LLC","W":"DNB","X":"Emerging Tech","Y":"NAMER","Z":"45230.833333333336","AA":"AMER","AB":"8","AC":"Technical Validation","AD":"Technical Validation","AE":"4443000","AF":"Committed Contract","AG":"Technical Validation","AH":"Clairmont,Jason","AI":"Pearson,Greg","AJ":"AMER","AK":"Account Manager","AL":"1","AM":"45201","AN":"Putitng some notes in here from our chime conversation.\nPricing is the major concern - HPE is apparently significantly cheaper, and has offered to lower their prices significantly in years 4 & 5 of each of 2 5-year terms based on equipment aging.\nThis is for 3 DCs, which currently looks like 6 Outposts due to large block capacity needs. Equipment needs to be in outposts as it needs to be located in-state due to requirements on the applications running on this hardware - an iLottery\nRFP likely awarded in Feb'24, with 8-12 months to implement thereafter.\nPaul looking to see if he can find any pricing info from analysts","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"08da9466-bb51-4072-a8e8-775a74e38b96","AS":"competitivePositioningSa","AT":"jcclairm","AU":"Seller","AV":null,"AW":"AWS WWCS Geo ComFieldSale-VAR","AX":"WWCS","AY":"{jjasmil,carped,rgeraffo,grp,garman}","AZ":"paulcw","BA":"Wilson,Paul C","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"SA","BI":"Aikins,Michaela A","BJ":"45198","BK":"45233","BL":"45201","BM":"45205","BN":"9","BO":"2023","BP":"COMPLETED","BQ":"onPremCoLocationCompete","BR":"[]","BS":"1","BT":"US","BU":"Denver","BV":"Colorado","BW":"AMER","BX":"GAMES","BY":"DNB","BZ":"RMG GAMES","CA":"Gaming","CB":"GAMES","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/08da9466-bb51-4072-a8e8-775a74e38b96","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"843","CR":"1","CS":"203","CT":"1","CU":"8","CV":"208","CW":"300","CX":"0064z00002DJ8A2AAL","CY":"00T4z000097mpGeEAI","CZ":"0","DA":"Technical Validation","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"},{"A":"08da9466-bb51-4072-a8e8-775a74e38b96","B":"45198","C":"45233","D":"0064z00002DJ8A2AAL","E":"paulcw","F":"jcclairm","G":"On-Prem/Co-location","H":"COMPLETED","I":"CS","J":"AMER","K":"GAMES","L":"compete","M":"Closing for now due to lack of need. Please re","N":"competitivePositioningSa","O":"Closing for now due to lack of need. Please re-open if CI can be of help on this opportunity","P":"**1. Provide context about the account, the opportunity, and the compete situation. If available, include related Quip document links, Slack channels etc.**\n Customer is evaluating Outposts vs HPE greenlake, account team needs more feedback on technical differences of these products.\n\n**2. What are the competitor technologies you need assistance with? Please be specific (e.g., Azure Storage, Google BigQuery, Azure SQL, Snowflake for Data Lakes, etc.)**\n\nHPE greenlake\n\n\n**3. What are the AWS technologies you are positioning? Please be specific (e.g., Control Tower, S3 Glacier Storage, EC2, EKS, etc.)**\n\nOutpost\n\n\n**4. How best can Cloud Intelligence assist you? What is the deliverable/outcome you are aiming for?**\ntechnical understanding of HPE greenalake","Q":"300","R":"SG - Outpost iLottery Michigan","S":"45181","T":"45382","U":"Technical Validation","V":"Scientific Games International, LLC","W":"DNB","X":"Emerging Tech","Y":"NAMER","Z":"45230.833333333336","AA":"AMER","AB":"8","AC":"Technical Validation","AD":"Technical Validation","AE":"4443000","AF":"Committed Contract","AG":"Technical Validation","AH":"Clairmont,Jason","AI":"Pearson,Greg","AJ":"AMER","AK":"Account Manager","AL":"1","AM":"45210","AN":"Hi Jason -\n\nHow is this opportunity coming along? \n\nI have not been able to find any pricing info for GreenLake - thru analysts or web search. The only hints are \"expensive\", but since each is a negotiated contract there is flexibility.\n\nPaul","AO":"Non-TFC","AP":"Compete","AQ":"compete","AR":"08da9466-bb51-4072-a8e8-775a74e38b96","AS":"competitivePositioningSa","AT":"jcclairm","AU":"Seller","AV":null,"AW":"AWS WWCS Geo ComFieldSale-VAR","AX":"WWCS","AY":"{jjasmil,carped,rgeraffo,grp,garman}","AZ":"paulcw","BA":"Wilson,Paul C","BB":"AWS GDSP Cloud Inteligence-VAR","BC":"Other","BD":"No Supervisor Hierarchy","BE":null,"BF":"0","BG":"X-TFC Member","BH":"SA","BI":"Aikins,Michaela A","BJ":"45198","BK":"45233","BL":"45201","BM":"45205","BN":"9","BO":"2023","BP":"COMPLETED","BQ":"onPremCoLocationCompete","BR":"[]","BS":"1","BT":"US","BU":"Denver","BV":"Colorado","BW":"AMER","BX":"GAMES","BY":"DNB","BZ":"RMG GAMES","CA":"Gaming","CB":"GAMES","CC":"OTHER","CD":null,"CE":null,"CF":"https://spec-req.sales.aws.a2z.com/request/08da9466-bb51-4072-a8e8-775a74e38b96","CG":"SA","CH":"","CI":"1","CJ":"0","CK":"-9999","CL":"0","CM":"0","CN":"0","CO":"1","CP":"0","CQ":"843","CR":"1","CS":"203","CT":"1","CU":"8","CV":"208","CW":"300","CX":"0064z00002DJ8A2AAL","CY":"00T4z000097mpGeEAI","CZ":"0","DA":"Technical Validation","DB":"0","DC":"1","DD":"0","DE":"standard","DF":"USD","DG":"No"}]
    '''
    
    model_kwargs = { #anthropic
            'messages': [{"role": "user", "content": "Please summarize the request_details in this JSON."+json_string}],
            'system_prompt': system_prompt,
            "max_tokens": 200000,
            "temperature": 0, 
            "top_k": 250, 
            "top_p": 1, 
            "stop_sequences": ["\n\nHuman:"] 
        }
    
    print(f"{input_text}")
    contents = f"{input_text} in this JSON. {uploaded_messages}"
    
    bedrock = boto3.client(service_name="bedrock-runtime")
    body = json.dumps({
      "max_tokens": 200000,
      "messages": [{"role": "user", "content": contents}],
      "anthropic_version": "bedrock-2023-05-31"
    })
    
    response = bedrock.invoke_model(body=body, modelId="anthropic.claude-3-sonnet-20240229-v1:0")
    
    
    return response
    
def get_memory(): #create memory for this chat session

    memory = ChatMemoryBuffer.from_defaults(token_limit=1500)
    
    return memory
    
def get_chat_response(uploaded_data_file, input_text, memory): #chat client function

    response = process_uploaded_file(uploaded_data_file, input_text)
    
    response_body = json.loads(response.get("body").read())
    # response_body = json.loads(response.get("body").read())
    # print(response_body['content'][0]['text'])
    
    return response_body.get("content")[0]['text']
    
